{% extends "layouts/layout.njk" %}

{% block content %}
  <h1 data-cy="reports-section">{{ __('reports.title') }}</h1>
  <form class="w-full max-w-full">
    <div >
      <div class="relative">
        <label for="search" class="sr-only">{{ __("reports.search_applications") }}</label>
        <input id="search" class="placeholder-gray-600 rounded border-2 border-gray-300 p-6 pl-10 block w-full appearance-none leading-normal mb-10" type="text" placeholder="{{ __('reports.search_applications') }}">
        <div class="pointer-events-none absolute inset-y-0 left-0 pl-4 flex items-center">
          <svg class="fill-current pointer-events-none text-gray-600 w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"/></svg>
        </div>
      </div>
    </div>
  </form>
  <table class="w-full table-full">
    <thead class="border-solid border-b-2 text-left">
      <tr class="">
        <th class="w-1/4" scope="col">Date Recieved</th>
        <th class="w-1/4" scope="col">Applicant</th>
        <th class="w-1/4" scope="col">Social insurance number</th>
        <th class="w-1/4" scope="col">Last opened</th>
      </tr>
    </thead>
    <tbody >
      {% for report in reports %}
        <tr class="odd:bg-gray-300">
          <td class="py-2">{{ report.practitionerSubmittedAt }}</td>
          <td class="py-2"><a href={{ route('reports.view', { report: report.id }) }}>{{ report.fullNameLastFirst }}</a></td>
          <td class="py-2">{{ report.socialInsuranceNumber }}</td>
          <td class="py-2">{{ report.lastAccessedAt }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
